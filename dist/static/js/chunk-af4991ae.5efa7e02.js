(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af4991ae"],{"05d1":function(t,e,a){"use strict";var s=a("8c24"),n=a.n(s);n.a},"0753":function(t,e,a){},"171b":function(t,e,a){"use strict";var s=a("8905"),n=a.n(s);n.a},4152:function(t,e,a){"use strict";var s=a("0753"),n=a.n(s);n.a},5177:function(t,e,a){"use strict";var s=a("a176"),n=a.n(s);n.a},"5b37":function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var s=a("b775");function n(t){return Object(s["a"])({url:"/api/v2/adgroups",method:"get",params:t})}function i(t){return Object(s["a"])({url:"/api/v2/adgroups",method:"post",params:t})}},8678:function(t,e,a){},8905:function(t,e,a){},"8c24":function(t,e,a){},99219:function(t,e,a){"use strict";var s=a("8678"),n=a.n(s);n.a},a176:function(t,e,a){},b52b:function(t,e,a){},cc72:function(t,e,a){"use strict";var s=a("b52b"),n=a.n(s);n.a},cef4:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[""==t.operationName||"edit"==t.operationName?a("el-row",[a("line-chart",{attrs:{"chart-data":t.lineChartData}})],1):t._e(),t._v(" "),"add"==t.operationName?a("add-keywords",{attrs:{adGroupId:t.adGroupId,campaignId:t.campaignId},on:{setOperationName:t.setOperationName}}):t._e(),t._v(" "),"edit"==t.operationName?a("operation-edit",{attrs:{multipleSelection:t.multipleSelection},on:{setOperationName:t.setOperationName,operationStatus:t.operationStatus}}):t._e(),t._v(" "),""==t.operationName?a("operation-table",{attrs:{setKeywordStatus:t.setKeywordStatus},on:{setOperationName:t.setOperationName}}):t._e(),t._v(" "),a("keyword-table",{ref:"keywordTable",attrs:{campaignStatus:t.campaignStatus,campaignType:t.campaignType,adGroupStatus:t.adGroupStatus,campaignId:t.campaignId,adGroupId:t.adGroupId},on:{setMultipleSelection:t.setMultipleSelection}})],1)},n=[],i=(a("ac6a"),a("db72")),o=a("2f62"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},l=[],c=a("313e"),d=a.n(c),u=a("eec2");a("817d");var p={mixins:[u["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick(function(){t.initChart()})},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=d.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.clicks,a=t.cost,s=t.ctr,n=t.impressions,i=t.title;this.chart.setOption({xAxis:{data:i,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["点击次数","展示次数","平均每次点击费用","费用"]},series:[{name:"点击次数",itemStyle:{normal:{color:"#3b78e7",lineStyle:{color:"#3b78e7",width:2}}},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"},{name:"展示次数",smooth:!0,type:"line",itemStyle:{normal:{color:"#d23f31",lineStyle:{color:"#d23f31",width:2}}},data:n,animationDuration:2800,animationEasing:"quadraticOut"},{name:"平均每次点击费用",smooth:!0,type:"line",itemStyle:{normal:{color:"#f2a600",lineStyle:{color:"#f2a600",width:2}}},data:s,animationDuration:2800,animationEasing:"quadraticOut"},{name:"费用",smooth:!0,type:"line",itemStyle:{normal:{color:"#0d904f",lineStyle:{color:"#0d904f",width:2}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},m=p,v=a("2877"),_=Object(v["a"])(m,r,l,!1,null,null,null),h=_.exports,f=a("d265"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operation-edit-box space-between"},[a("div",{staticClass:"flex left"},[a("span",{staticClass:"selection"},[t._v("已选择"),a("span",{},[t._v("全部")]),t._v(" "+t._s(t.multipleSelection.length)+" 行")]),t._v(" "),a("span",{staticClass:"spacing"}),t._v(" "),a("el-dropdown",{staticClass:"edit-selection-menu",attrs:{trigger:"click",placement:"bottom-start"}},[a("span",[t._v("修改 "),a("i",{staticClass:"el-icon-arrow-down"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown","split-button":""},slot:"dropdown"},[a("div",[a("el-dropdown-item",{staticClass:"selection-menu"},[a("a",{staticClass:"selection-menu-status",on:{click:function(e){return t.handleStatus("ENABLED")}}},[t._v(" 启用")])]),t._v(" "),a("el-dropdown-item",{staticClass:"selection-menu"},[a("a",{staticClass:"selection-menu-status",on:{click:function(e){return t.handleStatus("PAUSED")}}},[t._v("暂停")])]),t._v(" "),a("el-dropdown-item",{staticClass:"selection-menu"},[a("a",{staticClass:"selection-menu-status",on:{click:function(e){return t.handleStatus("RESERVED")}}},[t._v("移除")])])],1)])],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("i",{staticClass:"el-icon-close delete",on:{click:t.cancel}})])])},b=[],w={props:["multipleSelection"],data:function(){return{}},methods:{handleStatus:function(t){this.$emit("operationStatus",t)},cancel:function(){this.$emit("setOperationName","")}}},y=w,S=(a("171b"),a("05d1"),Object(v["a"])(y,g,b,!1,null,"0ffd62b2",null)),C=S.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operation-box"},[a("div",[a("div",{staticClass:"add",on:{click:function(e){return t.add()}}},[a("svg-icon",{staticClass:"operation-create",attrs:{"icon-class":"operation-create"}})],1)]),t._v(" "),a("div",{staticClass:"left-search"},[a("svg-icon",{staticClass:"operation-filter",attrs:{"icon-class":"operation-filter"}}),t._v(" "),a("el-dropdown",{staticClass:"dropCampainsMenu",attrs:{trigger:"click",placement:"bottom-start"}},[a("el-button",{staticClass:"changeStatus"},[t._v("关键字状态："),"ALL"==t.status?a("span",[t._v("所有")]):t._e(),t._v(" "),"ENABLED"==t.status?a("span",[t._v("所有已启用")]):t._e(),t._v(" "),"RESERVED"==t.status?a("span",[t._v("所有未移除")]):t._e()]),t._v(" "),a("el-dropdown-menu",{staticClass:"el-dropdown-menu",attrs:{slot:"dropdown","split-button":""},slot:"dropdown"},[a("div",[a("el-dropdown-item",{staticClass:"campaign-table-menu"},[a("a",{staticClass:"campaign-menu-status",class:{"is-active":"ALL"==t.status},on:{click:function(e){return t.changeKeywordStatus("ALL")}}},[t._v("所有")])]),t._v(" "),a("el-dropdown-item",{staticClass:"campaign-table-menu"},[a("a",{staticClass:"campaign-menu-status",class:{"is-active":"ENABLED"==t.status},on:{click:function(e){return t.changeKeywordStatus("ENABLED")}}},[t._v("所有已启用")])]),t._v(" "),a("el-dropdown-item",{staticClass:"campaign-table-menu"},[a("a",{staticClass:"campaign-menu-status",class:{"is-active":"RESERVED"==t.status},on:{click:function(e){return t.changeKeywordStatus("RESERVED")}}},[t._v("所有未移除")])])],1)])],1)],1),t._v(" "),a("div",{staticClass:"right-operation"},[a("ul",[a("li",{staticClass:"dowandnup",on:{click:t.changeDownStatus}},[a("i",{class:t.is_down?"el-icon-arrow-down":"el-icon-arrow-up"})])]),t._v(" "),a("span",{staticClass:"spacing"}),t._v(" "),a("ul",[a("li",[a("svg-icon",{attrs:{"icon-class":"operation-search"}}),a("span",[t._v("搜索")])],1),t._v(" "),a("li",[a("svg-icon",{attrs:{"icon-class":"operation-detail"}}),a("span",[t._v("细分")])],1),t._v(" "),a("li",[a("svg-icon",{attrs:{"icon-class":"operation-column"}}),a("span",[t._v("列")])],1),t._v(" "),a("li",[a("svg-icon",{attrs:{"icon-class":"operation-report"}}),a("span",[t._v("报告")])],1),t._v(" "),a("li",[a("svg-icon",{attrs:{"icon-class":"operation-down"}}),a("span",[t._v("下载")])],1),t._v(" "),a("li",[a("svg-icon",{attrs:{"icon-class":"operation-more"}}),a("span",[t._v("更多")])],1)])])])},k=[],$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"add",on:{click:function(e){return t.add()}}},[a("svg-icon",{staticClass:"operation-create",attrs:{"icon-class":"operation-create"}})],1)])},D=[],N={data:function(){return{dialogGroup:!0}},methods:{add:function(){this.$emit("setOperationName","add")}}},O=N,x=Object(v["a"])(O,$,D,!1,null,"692f04ae",null),R=x.exports,z={components:{OperationAddKeywords:R},data:function(){return{is_down:!0,status:"ALL"}},methods:{add:function(){this.$emit("setOperationName","add")},changeDownStatus:function(){this.is_down=!this.is_down},changeKeywordStatus:function(t){this.$emit("setKeywordStatus",t)}}},A=z,I=(a("cc72"),Object(v["a"])(A,E,k,!1,null,"f2aa0536",null)),G=I.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"drawer-contents"},[a("div",{staticClass:"subheading"},[t._v("添加关键字adgroup_id: "+t._s(t.select.adgroup_id)+" adGroupId: "+t._s(t.adGroupId)+" campaignId:"+t._s(t.campaignId))]),t._v(" "),a("div",{staticClass:"intro"},[t._v(" 要创建相关关键字列表，请在下方添加参考提示。当用户搜索相关字词时，这些关键字便可触发您的广告进行展示。 详细了解 如何选择有效的关键字")]),t._v(" "),a("div",{staticClass:"select-adgroup-btn",on:{click:function(e){t.dialogGroup=!t.dialogGroup}}},[""==t.adGroupId&&""!=t.select.adgroup_id?a("div",{},[a("span",[t._v(t._s(t.select.campaign_name))]),t._v("  >  "),a("span",[t._v(t._s(t.select.adgroup_name))]),t._v(" "),a("i",{staticClass:"el-icon-edit"})]):t._e(),t._v(" "),t.adGroupId<=0&&0==t.select.adgroup_id?a("div",{},[a("span",[t._v("选择一个广告组 ")]),t._v(" "),a("i",{staticClass:"el-icon-edit"})]):t._e()]),t._v(" "),a("div",{staticClass:"editor-container"},[a("el-form",[a("el-form-item",{attrs:{prop:"criterions"}},[a("el-input",{attrs:{type:"textarea",placeholder:"输入或粘贴您的关键字，每行一个字词或词组",autosize:{minRows:6,maxRows:20}},model:{value:t.form.keywords,callback:function(e){t.$set(t.form,"keywords",e)},expression:"form.keywords"}})],1)],1)],1),t._v(" "),a("p",{staticClass:"tips"},[t._v("匹配类型有助于控制哪些搜索可以触发广告")]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"save-btn-box"},[a("el-button",{attrs:{type:"primary"},on:{click:t.saveKeywords}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1),t._v(" "),a("el-dialog",{staticClass:"particle-dialog",attrs:{title:"选择一个广告组",visible:t.dialogGroup,width:"365px"},on:{"update:visible":function(e){t.dialogGroup=e}}},[a("div",{staticClass:"google-input-box"},[a("el-input",{staticClass:"google-input",attrs:{placeholder:"按名称或广告组ID搜索",maxlength:"50","show-word-limit":"true"}})],1),t._v(" "),a("span",{staticClass:"particle-header-title"},[t._v(t._s(t.origin.table.total)+"个广告组")]),t._v(" "),a("div",{staticClass:"particle-box"},t._l(t.origin.table.data,function(e,s){return a("div",{staticClass:"particle-list",on:{click:function(e){return t.selectAdgroup(s)}}},["ENABLED"==e.status?a("span",{staticClass:"start-status li-status"}):t._e(),t._v(" "),"PAUSED"==e.status?a("svg-icon",{attrs:{"icon-class":"pause li-status"}}):t._e(),t._v("\n        "+t._s(e.adgroup_name)+"\n      ")],1)}),0)])],1)},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"match-types"},[a("strong",[t._v("关键字")]),t._v(" = 广泛匹配   "),a("strong",[t._v('"关键字"')]),t._v(" = 词组匹配    "),a("strong",[t._v("[关键字]")]),t._v(" = 完全匹配 ")])}],j=a("5b37"),K={props:["campaignId","adGroupId"],data:function(){return{dialogGroup:!1,form:{keywords:""},origin:{table:{total:0,data:[]}},post:{loading:!1,table:{}},select:{adgroup_id:0}}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.post.loading=!0;var e=this.post.table;Object(j["a"])(e).then(function(e){e.success&&(t.origin.table=e.data),t.post.loading=!1})},saveKeywords:function(){},cancel:function(){this.$emit("setOperationName","")},selectAdgroup:function(t){this.select=this.origin.table.data[t],this.dialogGroup=!1}}},B=K,H=(a("5177"),a("99219"),Object(v["a"])(B,T,L,!1,null,"138384d3",null)),P=H.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ess-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.post.loading,expression:"post.loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.origin.table.data,"summary-method":t.getSummaries,"show-summary":"",border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",label:"关键字",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"status inlineBlock"},[a("el-dropdown",{attrs:{placement:"bottom-start",trigger:"click"}},[a("a",{staticClass:"el-dropdown-link"},["ENABLED"==e.row.status?a("span",{staticClass:"start-status"}):t._e(),t._v(" "),"PAUSED"==e.row.status?a("svg-icon",{attrs:{"icon-class":"pause"}}):t._e()],1),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("a",[a("span",{staticClass:"start-status"}),t._v(" "),a("span",[t._v("启用")])])]),t._v(" "),a("el-dropdown-item",[a("a",[a("svg-icon",{attrs:{"icon-class":"pause"}}),t._v(" "),a("span",[t._v("停用")])],1)])],1)],1)],1),t._v(" "),a("div",{staticClass:"campaignName inlineBlock"},[t._v("\n\n          "+t._s(e.row.google?e.row.google.keywordText:e.row.keyword)+"\n        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"广告系列",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return["SEARCH"==e.row.campaign_type?a("svg-icon",{staticClass:"svg-middle",attrs:{"icon-class":"searchad"}}):t._e(),t._v(" "),"DISPLAY"==e.row.campaign_type?a("svg-icon",{staticClass:"svg-middle",attrs:{"icon-class":"displayad"}}):t._e(),t._v("\n        "+t._s(e.row.campaign_name)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"广告组类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.google?a("div",["SEARCH_STANDARD"==e.row.google.adGroupType?a("span",[t._v(" 搜索广告")]):t._e(),t._v(" "),"DISPLAY_STANDARD"==e.row.google.adGroupType?a("span",[t._v(" 展示广告")]):t._e()]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"预算",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        ￥"+t._s(e.row.amount)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.google?a("div",["ENABLED"==e.row.google.status?a("span",[t._v("有效")]):t._e(),t._v(" "),"PAUSED"==e.row.google.status?a("span",[t._v("已暂停")]):t._e(),t._v(" "),"REMOVED"==e.row.google.status?a("span",[t._v("已移除")]):t._e()]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"展示次数"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.reports?a("div",[t._v("\n          "+t._s(e.row.reports.impressions)+"\n        ")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"点击次数"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.reports?a("div",[t._v("\n          "+t._s(e.row.reports.clicks)+"\n        ")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"page-table"},[a("el-pagination",{attrs:{"current-page":t.table.current_page,"page-sizes":[10,30,50,200,500],"page-size":20,layout:"total, sizes, prev, pager, next, jumper",total:t.table.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px",display:"none"}},[a("el-button",{on:{click:function(e){return t.toggleSelection([t.tableData[1],t.tableData[2]])}}},[t._v("切换第二、第三行的选中状态")]),t._v(" "),a("el-button",{on:{click:function(e){return t.toggleSelection()}}},[t._v("取消选择")])],1)],1)},V=[],q=(a("c5f6"),{props:["campaignType","campaignStatus","adGroupStatus","campaignId","adGroupId"],data:function(){return{origin:{table:{}},post:{loading:!1,table:{status:"ALL",page:1,per_page:10}},tableData:[],table:{total:10,current_page:1,per_page:0,last_page:0}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.post.loading=!0;var e=this.post.table;Object(f["a"])(e).then(function(e){e.success&&(t.origin.table=e.data),t.post.loading=!1})},getSummaries:function(t){var e=t.columns,a=t.data,s=[];return e.forEach(function(t,e){if(1!==e){var n=a.map(function(e){return Number(e[t.property])});n.every(function(t){return isNaN(t)})?s[e]="":(s[e]=n.reduce(function(t,e){var a=Number(e);return isNaN(a)?t:t+e},0),s[e]="￥"+s[e])}else s[e]="总计：关键字"}),s},handleSizeChange:function(){},handleCurrentChange:function(){},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.$emit("setMultipleSelection",t)}}}),U=q,J=(a("4152"),Object(v["a"])(U,M,V,!1,null,"13bba4e6",null)),Y=J.exports,F={name:"Keyword",components:{LineChart:h,AddKeywords:P,KeywordTable:Y,OperationEdit:C,OperationTable:G},data:function(){return{lineChartData:{},operationName:"",multipleSelection:[]}},computed:Object(i["a"])({},Object(o["b"])(["campaignType","campaignStatus","adGroupStatus","campaignId","adGroupId"])),watch:{campaignId:function(t,e){this.$refs.keywordTable.post.table.page=1,this.$refs.keywordTable.post.table.campaignId=this.campaignId,this.$refs.keywordTable.fetchData()},adGroupId:function(t,e){this.$refs.keywordTable.post.table.page=1,this.$refs.keywordTable.post.table.adGroupId=this.adGroupId,this.$refs.keywordTable.fetchData()}},methods:{setKeywordStatus:function(){this.$refs.keywordTable.post.table.status=status,this.fetchData()},setMultipleSelection:function(t){0==t.length?this.operationName="":this.operationName="edit",this.multipleSelection=t},setOperationName:function(t){this.operationName=t},operationStatus:function(t){var e=this,a=this,s=[];this.multipleSelection.forEach(function(t){s.push(t.id)}),0!=s.length?Object(f["b"])({ids:s,operation:t}).then(function(t){t.success&&(a.$message({message:"批量操作成功",type:"success"}),e.$refs.keywordTable.fetchData())}):a.$message({message:"请选择关键字",type:"info"})}}},Q=F,W=Object(v["a"])(Q,s,n,!1,null,null,null);e["default"]=W.exports},d265:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var s=a("b775");function n(t){return Object(s["a"])({url:"/api/campaign/keyword/list",method:"get",params:t})}function i(t){return Object(s["a"])({url:"/api/campaign/keyword/operation",method:"post",params:t})}},eec2:function(t,e,a){"use strict";var s=a("ed08");e["a"]={data:function(){return{$_sidebarElm:null}},mounted:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_resizeHandler:function(){var t=this;return Object(s["b"])(function(){t.chart&&t.chart.resize()},100)()},$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}}}]);