(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6ecdf00"],{"209c":function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"c",function(){return s}),a.d(e,"a",function(){return o}),a.d(e,"d",function(){return r});var n=a("b775");function i(t){return Object(n["a"])({url:"/api/v2/campaigns",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/api/v2/reports/chart",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/api/v2/campaigns",method:"post",params:t})}function r(t){return Object(n["a"])({url:"/api/v2/campaigns/"+t,method:"get"})}},"3efb":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-row",[a("line-chart",{attrs:{"chart-data":t.lineChartData}})],1),t._v(" "),a("adgroups-table",{ref:"adgroupTable",attrs:{campaignStatus:t.campaignStatus,campaignType:t.campaignType,adGroupStatus:t.adGroupStatus}})],1)},i=[],s=(a("3b2b"),a("a481"),a("db72")),o=a("2f62"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ess-table"},[a("operation-table",{attrs:{adGroupStatus:t.adGroupStatus}}),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.post.loading,expression:"post.loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.origin.table.data,"summary-method":t.getSummaries,"show-summary":"",border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{fixed:"",label:"广告组",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"status inlineBlock"},[a("el-dropdown",{attrs:{placement:"bottom-start",trigger:"click"}},[a("a",{staticClass:"el-dropdown-link"}),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("a",[a("span",{staticClass:"start-status"}),t._v(" "),a("span",[t._v("启用")])])]),t._v(" "),a("el-dropdown-item",[a("a",[a("svg-icon",{attrs:{"icon-class":"pause"}}),t._v(" "),a("span",[t._v("停用")])],1)])],1)],1)],1),t._v(" "),a("div",{staticClass:"campaignName inlineBlock"},["SEARCH"==e.row.advertisingChannelType?a("svg-icon",{staticClass:"svg-middle",attrs:{"icon-class":"searchad"}}):t._e(),t._v(" "),"DISPLAY"==e.row.advertisingChannelType?a("svg-icon",{staticClass:"svg-middle",attrs:{"icon-class":"displayad"}}):t._e(),t._v("\n          "+t._s(e.row.adgroup_name)+"\n        ")],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"广告系列",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.google?e.row.google.campaignName:"")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"广告组类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.google?a("div",["SEARCH_STANDARD"==e.row.google.adGroupType?a("span",[t._v(" 搜索广告")]):t._e(),t._v(" "),"DISPLAY_STANDARD"==e.row.google.adGroupType?a("span",[t._v(" 展示广告")]):t._e()]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"预算",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        ￥"+t._s(e.row.amount)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.google?a("div",["ENABLED"==e.row.google.status?a("span",[t._v("有效")]):t._e(),t._v(" "),"PAUSED"==e.row.google.status?a("span",[t._v("已暂停")]):t._e(),t._v(" "),"REMOVED"==e.row.google.status?a("span",[t._v("已移除")]):t._e()]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"展示次数"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.reports?a("div",[t._v("\n          "+t._s(e.row.reports.impressions)+"\n        ")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"点击次数"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.reports?a("div",[t._v("\n          "+t._s(e.row.reports.clicks)+"\n        ")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"page-table"},[a("el-pagination",{attrs:{"current-page":t.origin.table.current_page,"page-sizes":[10,30,50,200,500],"page-size":t.post.table.per_page,layout:"total, sizes, prev, pager, next, jumper",total:t.origin.table.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px",display:"none"}},[a("el-button",{on:{click:function(e){return t.toggleSelection([t.tableData[1],t.tableData[2]])}}},[t._v("切换第二、第三行的选中状态")]),t._v(" "),a("el-button",{on:{click:function(e){return t.toggleSelection()}}},[t._v("取消选择")])],1)],1)},l=[],c=(a("c5f6"),a("ac6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operation-box"},[a("div",{staticClass:"left-search"},[a("svg-icon",{staticClass:"operation-filter",attrs:{"icon-class":"operation-filter"}}),t._v(" "),a("el-dropdown",{staticClass:"dropCampainsMenu",attrs:{trigger:"click",placement:"bottom-start"}},[a("el-button",{staticClass:"changeStatus"},[t._v("广告组状态："),"ALL"==t.adGroupStatus?a("span",[t._v("所有")]):t._e(),t._v(" "),"ENABLED"==t.adGroupStatus?a("span",[t._v("所有已启用")]):t._e(),t._v(" "),"RESERVED"==t.adGroupStatus?a("span",[t._v("所有未移除")]):t._e()]),t._v(" "),a("el-dropdown-menu",{staticClass:"el-dropdown-menu",attrs:{slot:"dropdown","split-button":""},slot:"dropdown"},[a("div",[a("el-dropdown-item",{staticClass:"campaign-table-menu"},[a("a",{staticClass:"campaign-menu-status",class:{"is-active":"ALL"==t.adGroupStatus},on:{click:function(e){return t.changeAdGroupStatus("ALL")}}},[t._v("所有")])]),t._v(" "),a("el-dropdown-item",{staticClass:"campaign-table-menu"},[a("a",{staticClass:"campaign-menu-status",class:{"is-active":"ENABLED"==t.adGroupStatus},on:{click:function(e){return t.changeAdGroupStatus("ENABLED")}}},[t._v("所有已启用")])]),t._v(" "),a("el-dropdown-item",{staticClass:"campaign-table-menu"},[a("a",{staticClass:"campaign-menu-status",class:{"is-active":"RESERVED"==t.adGroupStatus},on:{click:function(e){return t.changeAdGroupStatus("RESERVED")}}},[t._v("所有未移除")])])],1)])],1)],1),t._v(" "),a("div",{staticClass:"right-operation"},[a("ul",[a("li",{staticClass:"dowandnup",on:{click:t.changeDownStatus}},[a("i",{class:t.is_down?"el-icon-arrow-down":"el-icon-arrow-up"})])]),t._v(" "),a("span",{staticClass:"spacing"}),t._v(" "),a("ul",[a("li",[a("svg-icon",{attrs:{"icon-class":"operation-search"}}),a("span",[t._v("搜索")])],1),t._v(" "),a("li",[a("svg-icon",{attrs:{"icon-class":"operation-detail"}}),a("span",[t._v("细分")])],1),t._v(" "),a("li",[a("svg-icon",{attrs:{"icon-class":"operation-column"}}),a("span",[t._v("列")])],1),t._v(" "),a("li",[a("svg-icon",{attrs:{"icon-class":"operation-report"}}),a("span",[t._v("报告")])],1),t._v(" "),a("li",[a("svg-icon",{attrs:{"icon-class":"operation-down"}}),a("span",[t._v("下载")])],1),t._v(" "),a("li",[a("svg-icon",{attrs:{"icon-class":"operation-more"}}),a("span",[t._v("更多")])],1)])])])}),u=[],d={props:["adGroupStatus"],data:function(){return{is_down:!0}},methods:{changeDownStatus:function(){this.is_down=!this.is_down},changeAdGroupStatus:function(t){this.$store.dispatch("menu/changeAdGroupStatus",t)}}},p=d,g=a("2877"),h=Object(g["a"])(p,c,u,!1,null,null,null),m=h.exports,v=a("5b37"),f={props:["campaignType","campaignStatus","adGroupStatus"],components:{OperationTable:m},data:function(){return{origin:{table:{}},post:{loading:!1,table:{page:1,per_page:10}},multipleSelection:[]}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.post.loading=!0;var e=this.post.table;Object(v["a"])(e).then(function(e){e.success&&(t.origin.table=e.data),t.post.loading=!1})},handleCurrentChange:function(t){this.post.table=Object.assign(this.post.table,{page:t}),this.fetchData()},handleSizeChange:function(t){this.post.table=Object.assign(this.post.table,{per_page:t}),this.fetchData()},getSummaries:function(t){var e=t.columns,a=t.data,n=[];return e.forEach(function(t,e){if(1!==e){var i=a.map(function(e){return Number(e[t.property])});i.every(function(t){return isNaN(t)})?n[e]="":(n[e]=i.reduce(function(t,e){var a=Number(e);return isNaN(a)?t:t+e},0),n[e]="￥"+n[e])}else n[e]="总计：广告组"}),n},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t}}},_=f,b=(a("f4a7"),Object(g["a"])(_,r,l,!1,null,"ed46bda0",null)),S=b.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},y=[],E=a("313e"),$=a.n(E),C=a("eec2");a("817d");var D={mixins:[C["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick(function(){t.initChart()})},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=$.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.clicks,a=t.cost,n=t.ctr,i=t.impressions,s=t.title;this.chart.setOption({xAxis:{data:s,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["点击次数","展示次数","平均每次点击费用","费用"]},series:[{name:"点击次数",itemStyle:{normal:{color:"#3b78e7",lineStyle:{color:"#3b78e7",width:2}}},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"},{name:"展示次数",smooth:!0,type:"line",itemStyle:{normal:{color:"#d23f31",lineStyle:{color:"#d23f31",width:2}}},data:i,animationDuration:2800,animationEasing:"quadraticOut"},{name:"平均每次点击费用",smooth:!0,type:"line",itemStyle:{normal:{color:"#f2a600",lineStyle:{color:"#f2a600",width:2}}},data:n,animationDuration:2800,animationEasing:"quadraticOut"},{name:"费用",smooth:!0,type:"line",itemStyle:{normal:{color:"#0d904f",lineStyle:{color:"#0d904f",width:2}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},R=D,A=Object(g["a"])(R,w,y,!1,null,null,null),z=A.exports,T=a("209c"),O={name:"Adgroup",components:{AdgroupsTable:S,LineChart:z},data:function(){return{lineChartData:{}}},computed:Object(s["a"])({},Object(o["b"])(["campaignType","campaignStatus","adGroupStatus","campaignId"])),watch:{campaignId:function(t,e){this.$refs.adgroupTable.post.table.page=1,this.$refs.adgroupTable.post.table.googleCampaignId=this.campaignId,this.$refs.adgroupTable.fetchData(),this.getAdgroupReports()},campaignType:function(t,e){this.$refs.adgroupTable.post.table.page=1,this.$refs.adgroupTable.post.table.googleCampaignId="",this.$refs.adgroupTable.fetchData(),this.getAdgroupReports()},adGroupStatus:function(t,e){this.$refs.adgroupTable.post.table.page=1,this.$refs.adgroupTable.post.table.status=this.adGroupStatus,this.$refs.adgroupTable.fetchData(),this.getAdgroupReports()}},mounted:function(){this.getAdgroupReports()},methods:{getAdgroupReports:function(){var t=this;Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t};var e={type:"adgroup",begin_date:(new Date).Format("yyyyMMdd"),end_date:(new Date).Format("yyyyMMdd")};Object(T["c"])(e).then(function(e){t.lineChartData=e.data})}}},k=O,x=Object(g["a"])(k,n,i,!1,null,null,null);e["default"]=x.exports},"5b37":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s});var n=a("b775");function i(t){return Object(n["a"])({url:"/api/v2/adgroups",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/api/v2/adgroups",method:"post",params:t})}},d947:function(t,e,a){},eec2:function(t,e,a){"use strict";var n=a("ed08");e["a"]={data:function(){return{$_sidebarElm:null}},mounted:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_resizeHandler:function(){var t=this;return Object(n["b"])(function(){t.chart&&t.chart.resize()},100)()},$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},f4a7:function(t,e,a){"use strict";var n=a("d947"),i=a.n(n);i.a}}]);